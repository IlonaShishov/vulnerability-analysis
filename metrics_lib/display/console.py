import os
import matplotlib.pyplot as plt
import matplotlib.image as mpimg

from metrics_lib.utils import get_notes

def print_notes_to_console(metrics={}):
    notes = get_notes(metrics)
        
    if notes:        
        print("\nPlease note the prompts for the following metrics:")
        print("\n".join(notes))

def show_plots(report_name):
    report_name_as_dir = report_name.replace(' ','_').lower()
    plot_dir = os.path.join('.', 'plots', report_name_as_dir)

    if os.path.exists(plot_dir):
        plot_file_paths = [os.path.join(plot_dir, f) for f in os.listdir(plot_dir) if f.endswith('.png')]
        
        for plot_path in plot_file_paths:
            img = mpimg.imread(plot_path)
            plt.imshow(img)
            plt.show()

def print_to_console(df, report_name='', metrics={}):
    print(f'\nAgent Morpheus {report_name}')
    print(df)
    print_notes_to_console(metrics)
    show_plots(report_name)