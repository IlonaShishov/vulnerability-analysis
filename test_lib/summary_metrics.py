

class SummaryMetrics:
 
    def __init__(self):

        self.metrics = [
            "SemanticSimilarity",
            "LLMContextPrecisionWithoutReference",
            "LLMContextRecall",
            "Faithfulness",
            "ResponseRelevancy",
            "SummarizationScore",
        ]

    def get_datasets(self, data):
        datasets = {}
        for case_id, outputs in data.items():
            dataset = []
            for output in outputs:    
                checklist = [item["response"] for item in output["checklist"]]
                data = {
                    "user_input": "Evaluate how accurately the response summarizes the provided contexts and/or reference data.",
                    "response": output["summary"],
                    "reference": ' '.join(checklist),
                    "reference_contexts": checklist,
                    "retrieved_contexts": checklist
                }
                dataset.append(data)
            datasets[case_id] = dataset
        return datasets
